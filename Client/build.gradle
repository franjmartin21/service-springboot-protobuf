/**
 * The subproject needs to add the plugin java to understand the 'maven-style' structure of the project, it adds another
 * directory as source which is the one that contains the java files generated by the proto compiler.
 *
 * IMPROVEMENTS: There are some repetitions with the parent build.gradle (for instance the destFolderProto variable) can be
 * probably inherited if I knew more of gradle.
 */
apply plugin: 'java'

def destFolderProto = 'generated-src/main/java'

sourceSets {
    main {
        java {
            srcDir destFolderProto
        }
    }
}

repositories {
    mavenCentral()
}

dependencies {
    compile("org.springframework:spring-context:4.2.5.RELEASE")
    compile("com.jayway.restassured:rest-assured:2.5.0")
    compile("com.google.protobuf:protobuf-java:3.0.0-beta-3")
}
